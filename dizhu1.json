{
  "inbounds": [
    {
      "tag": "http-in",
      "listen": "0.0.0.0",
      "port": 7890,
      "protocol": "http",
      "settings": {
        "auth": "noauth"
      }
    }
  ],
  "outbounds": [
    {
      "tag": "🚀 节点选择",
      "protocol": "select",
      "settings": {
        "proxies": [
          "🇭🇰 香港节点",
          "🇯🇵 日本节点",
          "🇺🇸 美国节点",
          "🇹🇼 台湾节点",
          "🇸🇬 狮城节点",
          "🇰🇷 韩国节点",
          "🌍 其他节点"
        ]
      }
    },
    {
      "tag": "🇭🇰 香港节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)港|hk|🇭🇰|hongkong|hong kong"
      }
    },
    {
      "tag": "🇯🇵 日本节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)日本|jp|🇯🇵|japan"
      }
    },
    {
      "tag": "🇺🇸 美国节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)美|us|🇺🇸|united states|america"
      }
    },
    {
      "tag": "🇹🇼 台湾节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)台|tw|taiwan"
      }
    },
    {
      "tag": "🇸🇬 狮城节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)新|狮城|🇸🇬|sg|singapore"
      }
    },
    {
      "tag": "🇰🇷 韩国节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "(?i)韩|kr|🇰🇷|korea"
      }
    },
    {
      "tag": "🌍 其他节点",
      "protocol": "load-balance",
      "settings": {
        "use": ["provider1", "provider2", "provider3"],
        "strategy": "consistent-hashing",
        "url": "http://www.gstatic.com/generate_204",
        "interval": 300,
        "tolerance": 50,
        "filter": "^(?!.*(港|hk|hongkong|hong kong|日本|jp|japan|美|us|united states|america|台|tw|taiwan|新|狮城|sg|singapore|韩|kr|korea)).*$"
      }
    }
  ],
  "dns": {
    "enable": true,
    "ipv6": false,
    "listen": "0.0.0.0:53",
    "enhanced-mode": "fake-ip",
    "nameserver": [
      "https://dns.alidns.com/dns-query",
      "https://doh.pub/dns-query"
    ],
    "fallback": [
      "https://dns.google/dns-query",
      "https://cloudflare-dns.com/dns-query"
    ],
    "default-nameserver": [
      "223.5.5.5",
      "119.29.29.29"
    ],
    "fake-ip-filter": [
      "*.lan",
      "localhost.ptlogin2.qq.com",
      "dns.msftncsi.com",
      "*.srv.nintendo.net",
      "*.stun.playstation.net",
      "xbox.*.microsoft.com",
      "*.xboxlive.com",
      "stun.*",
      "global.turn.twilio.com",
      "global.stun.twilio.com",
      "*.msftncsi.com",
      "*.msftconnecttest.com",
      "*.battlenet.com.cn",
      "*.battlenet.com",
      "*.blzstatic.cn",
      "*.battle.net"
    ]
  },
  "proxy-providers": {
    "provider1": {
      "type": "http",
      "url": "https://fs.v2rayse.com/share/20241228/xfw66tfh3h.json",
      "interval": 3600,
      "path": "./proxy_providers/provider2.yaml",
      "health-check": {
        "enable": true,
        "interval": 600,
        "url": "http://www.gstatic.com/generate_204"
      }
    },
    "provider2": {
      "type": "http",
      "url": "",
      "interval": 3600,
      "path": "./proxy_providers/provider3.yaml",
      "health-check": {
        "enable": true,
        "interval": 600,
        "url": "http://www.gstatic.com/generate_204"
      }
    },
    "provider3": {
      "type": "http",
      "url": "",
      "interval": 3600,
      "path": "./proxy_providers/provider4.yaml",
      "health-check": {
        "enable": true,
        "interval": 600,
        "url": "http://www.gstatic.com/generate_204"
      }
    }
  },
  "rule-providers": {
    "reject": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt",
      "path": "./ruleset/reject.yaml",
      "interval": 86400
    },
    "icloud": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/icloud.txt",
      "path": "./ruleset/icloud.yaml",
      "interval": 86400
    },
    "apple": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/apple.txt",
      "path": "./ruleset/apple.yaml",
      "interval": 86400
    },
    "google": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/google.txt",
      "path": "./ruleset/google.yaml",
      "interval": 86400
    },
    "proxy": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt",
      "path": "./ruleset/proxy.yaml",
      "interval": 86400
    },
    "direct": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt",
      "path": "./ruleset/direct.yaml",
      "interval": 86400
    },
    "private": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/private.txt",
      "path": "./ruleset/private.yaml",
      "interval": 86400
    },
    "gfw": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt",
      "path": "./ruleset/gfw.yaml",
      "interval": 86400
    },
    "greatfire": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/greatfire.txt",
      "path": "./ruleset/greatfire.yaml",
      "interval": 86400
    },
    "tld-not-cn": {
      "type": "http",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt",
      "path": "./ruleset/tld-not-cn.yaml",
      "interval": 86400
    },
    "telegramcidr": {
      "type": "http",
      "behavior": "ipcidr",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt",
      "path": "./ruleset/telegramcidr.yaml",
      "interval": 86400
    },
    "cncidr": {
      "type": "http",
      "behavior": "ipcidr",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt",
      "path": "./ruleset/cncidr.yaml",
      "interval": 86400
    },
    "lancidr": {
      "type": "http",
      "behavior": "ipcidr",
      "url": "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt",
      "path": "./ruleset/lancidr.yaml",
      "interval": 86400
    }
  },
  "rules": [
    {
      "type": "field",
      "domain": [
        "xn--ngstr-lra8j.com",
        "services.googleapis.cn"
      ],
      "outboundTag": "🚀 节点选择"
    },
    {
      "type": "field",
      "ip": [
        "8.8.8.8/32",
        "8.8.4.4/32",
        "1.1.1.1/32",
        "1.0.0.1/32",
        "9.9.9.9/32",
        "149.112.112.112/32",
        "208.67.222.222/32",
        "208.67.220.220/32"
      ],
      "outboundTag": "🚀 节点选择",
      "noResolve": true
    },
    {
      "type": "field",
      "domainSuffix": [
        "spotify.com",
        "twitter.com",
        "t.co",
        "tiktok.com",
        "tiktokv.com",
        "telegram.org",
        "youtube.com",
        "openai.com",
        "anthropic.com"
      ],
      "outboundTag": "🚀 节点选择"
    },
    {
      "type": "field",
      "domainKeyword": [
        "youtube",
        "ytimg",
        "claude",
        "chatgpt",
        "tiktok",
        "tiktokv",
        "t.co",
        "icloud",
        "apple"
      ],
      "outboundTag": "🚀 节点选择"
    },
    {
      "type": "field",
      "ruleSet": [
        "reject",
        "private",
        "direct",
        "lancidr",
        "cncidr",
        "telegramcidr",
        "proxy",
        "gfw",
        "greatfire",
        "icloud",
        "apple",
        "google",
        "tld-not-cn"
      ],
      "outboundTag": "🚀 节点选择"
    },
    {
      "type": "field",
      "geoip": "CN",
      "outboundTag": "DIRECT",
      "noResolve": true
    },
    {
      "type": "field",
      "match": "🐟 漏网之鱼",
      "outboundTag": "🚀 节点选择"
    }
  ]
}
